)
library(igraph)
library(tidygraph)
library(ggraph)
library(ggplot2)
graph <- as_tbl_graph(graph_from_data_frame(edges))
ggraph(graph, layout = "tree") +
geom_edge_link(arrow = arrow(length = unit(3, 'mm')), end_cap = circle(3, 'mm'), color = "gray40") +
geom_node_label(aes(label = name), fill = "lightpink", label.size = 0.2, size = 4, fontface = "bold") +
theme_void() +
ggtitle("👨‍👩‍👧‍👦 Friends Kinship Tree (Biology-style)")
library(DiagrammeR)
grViz("
digraph family_tree {
graph [layout = dot, rankdir = TB]
# Define nodes
node [shape = none, fontsize=12]
jack [label = 'Jack Geller']
judy [label = 'Judy Geller']
ross [label = 'Ross Geller']
monica [label = 'Monica Geller']
# Invisible marriage node
jack_judy [label = '', shape=point, width=0.01]
# Connect parents to marriage point
jack -> jack_judy [dir=none]
judy -> jack_judy [dir=none]
# Children connected from the union
jack_judy -> ross
jack_judy -> monica
}
")
require(igraph)
mothers=familyTree[,c('id','id_mother','first_name', 'last_name')]
familyTree <- data.frame(
id = 1:6,
cnp = c("11", NA, "22", NA, NA, "33"),
last_name = c("B", "B", "B", NA, NA, "M"),
last_name_alyas = rep(c(NA, "M"), c(5L, 1L)),
middle_name = rep(c("C", NA), c(1L, 5L)),
first_name = c("Me", "P", "A", NA, NA, "S"),
first_name_alyas = rep(c(NA, "F"), c(5L, 1L)),
maiden_name = c(NA, NA, "M", NA, NA, NA),
id_father = c(2L, 4L, 6L, NA, NA, 8L),
id_mother = c(3L, 5L, 7L, NA, NA, 9L),
birth_date = c("1986-01-01", "1963-01-01", "1964-01-01", NA, NA, "1936-01-01"),
birth_place = c("City", "Village", "Village", NA, NA, "Village"),
death_date = c("0000-00-00", NA, NA, NA, NA, "2007-12-23"),
death_reason = rep(c(NA, "stroke"), c(5L, 1L)),
nr_brothers = c(NA, 1L, NA, NA, NA, NA),
brothers_names = c(NA, "M", NA, NA, NA, NA),
nr_sisters = c(1L, NA, 1L, NA, NA, 2L),
sisters_names = c("A", NA, "E", NA, NA, NA),
school = c(NA, "", "", NA, NA, ""),
occupation = c(NA, "", "", NA, NA, ""),
diseases = rep(NA_character_, 6L),
comments = rep(NA_character_, 6L)
)
mothers=familyTree[,c('id','id_mother','first_name', 'last_name')]
fathers=familyTree[,c('id','id_father','first_name', 'last_name')]
mothers$name=paste(mothers$first_name,mothers$last_name)
fathers$name=paste(fathers$first_name,fathers$last_name)
names(mothers)=c('parent','id','first_name','last_name','name')
names(fathers)=c('parent','id','first_name','last_name','name')
links=rbind(mothers,fathers)
links=links[!is.na(links$id),]
g=graph.data.frame(links)
co=layout.reingold.tilford(g, flip.y=F)
plot(g,layout=co)
library(kinship2)
df <- data.frame(id = c(1,2,3,4,5,6), sex = c(1,2,1,2,2,2), dadid = c(0,0,0,0,1,3), momid = c(0,0,0,0,2,4), famid = 1)
relation1 <- matrix(c(2,3,4,1), nrow = 1)
foo <- pedigree(id = df$id, dadid = df$dadid, momid = df$momid, sex = df$sex, relation = relation1, famid = df$famid)
ped <- foo['1']
plot(ped)
# Define individuals
friends_df <- data.frame(
id = 1:10,
name = c(
"Jack Geller", "Judy Geller",          # 1,2
"Ross Geller", "Monica Geller",        # 3,4
"Carol Willick", "Rachel Green",       # 5,6
"Ben Geller", "Emma Geller-Green",     # 7,8
"Chandler Bing", "Mike Hannigan"       # 9,10 (optional)
),
sex = c(1, 2, 1, 2, 2, 2, 1, 2, 1, 1),  # 1=male, 2=female
dadid = c(0, 0, 1, 1, 0, 0, 3, 3, 0, 0),
momid = c(0, 0, 2, 2, 0, 0, 5, 6, 0, 0),
famid = 1
)
# Optionally define unions/relationships (e.g., Ross & Carol)
# Matrix with two rows: mother and father
relations <- matrix(c(5, 3,   # Carol & Ross
6, 3),  # Rachel & Ross
ncol = 2, byrow = TRUE)
# Create pedigree object
ped <- pedigree(
id = friends_df$id,
dadid = friends_df$dadid,
momid = friends_df$momid,
sex = friends_df$sex,
famid = friends_df$famid,
relation = relations
)
# Plot the pedigree
plot(ped, id = friends_df$name)
# Optionally define unions/relationships (e.g., Ross & Carol)
# Matrix with two rows: mother and father
relations <- matrix(c(
5, 3, 1,   # Carol (5) & Ross (3), famid 1
6, 3, 1    # Rachel (6) & Ross (3), famid 1
), byrow = TRUE, ncol = 3)
# Create pedigree object
ped <- pedigree(
id = friends_df$id,
dadid = friends_df$dadid,
momid = friends_df$momid,
sex = friends_df$sex,
famid = friends_df$famid,
relation = relations
)
library(kinship2)
# Define the family data frame
friends_df <- data.frame(
id = 1:10,
name = c(
"Jack Geller", "Judy Geller",          # 1,2
"Ross Geller", "Monica Geller",        # 3,4
"Carol Willick", "Rachel Green",       # 5,6
"Ben Geller", "Emma Geller-Green",     # 7,8
"Chandler Bing", "Mike Hannigan"       # 9,10 (optional)
),
sex = c(1, 2, 1, 2, 2, 2, 1, 2, 1, 1),  # 1=male, 2=female
dadid = c(0, 0, 1, 1, 0, 0, 3, 3, 0, 0),
momid = c(0, 0, 2, 2, 0, 0, 5, 6, 0, 0),
famid = 1
)
# Define relations (spouses and their corresponding family IDs)
relations <- matrix(c(
5, 3, 1,   # Carol (5) & Ross (3), famid 1
6, 3, 1    # Rachel (6) & Ross (3), famid 1
), byrow = TRUE, ncol = 3)
# Create the pedigree object
ped <- pedigree(
id = friends_df$id,
dadid = friends_df$dadid,
momid = friends_df$momid,
sex = friends_df$sex,
famid = friends_df$famid,
relation = relations
)
# Plot the family tree
plot(ped, id = friends_df$name)
# Define the family data frame (same as before)
friends_df <- data.frame(
id = 1:10,
name = c(
"Jack Geller", "Judy Geller",          # 1,2
"Ross Geller", "Monica Geller",        # 3,4
"Carol Willick", "Rachel Green",       # 5,6
"Ben Geller", "Emma Geller-Green",     # 7,8
"Chandler Bing", "Mike Hannigan"       # 9,10 (optional)
),
sex = c(1, 2, 1, 2, 2, 2, 1, 2, 1, 1),  # 1=male, 2=female
dadid = c(0, 0, 1, 1, 0, 0, 3, 3, 0, 0),
momid = c(0, 0, 2, 2, 0, 0, 5, 6, 0, 0),
famid = 1  # Single family ID for simplicity
)
# Define the relation matrix
relations <- matrix(c(
2, 3, 1,   # Carol (5) & Ross (3), family ID 1
6, 3, 1    # Rachel (6) & Ross (3), family ID 1
), ncol = 3, byrow = TRUE)
# Create the pedigree object
ped <- pedigree(
id = friends_df$id,
dadid = friends_df$dadid,
momid = friends_df$momid,
sex = friends_df$sex,
famid = friends_df$famid,
relation = relations
)
friends_df
# Define the relation matrix
relations <- matrix(c(
2, 3, 4, 1,   # Carol (5) & Ross (3), family ID 1
6, 3, 1    # Rachel (6) & Ross (3), family ID 1
), ncol = 3, byrow = TRUE)
library(kinship2)
# Define the family data frame
friends_df <- data.frame(
id = 1:10,
name = c(
"Jack Geller", "Judy Geller",          # 1,2
"Ross Geller", "Monica Geller",        # 3,4
"Carol Willick", "Rachel Green",       # 5,6
"Ben Geller", "Emma Geller-Green",     # 7,8
"Chandler Bing", "Mike Hannigan"       # 9,10 (optional)
),
sex = c(1, 2, 1, 2, 2, 2, 1, 2, 1, 1),  # 1=male, 2=female
dadid = c(0, 0, 1, 1, 0, 0, 3, 3, 0, 0),
momid = c(0, 0, 2, 2, 0, 0, 5, 6, 0, 0),
famid = 1  # Single family ID for simplicity
)
# Define the relation matrix (mother, father, family ID)
relations <- matrix(c(
2, 3, 1,   # Jack Geller (2) & Judy Geller (3), family ID 1
6, 3, 1,   # Carol Willick (6) & Ross Geller (3), family ID 1
5, 3, 1,   # Monica Geller (5) & Chandler Bing (3), family ID 1
9, 10, 1   # Rachel Green (9) & Mike Hannigan (10), family ID 1
), byrow = TRUE, ncol = 3)
# Create the pedigree object
ped <- pedigree(
id = friends_df$id,
dadid = friends_df$dadid,
momid = friends_df$momid,
sex = friends_df$sex,
famid = friends_df$famid,
relation = relations
)
df
library(kinship2)
# Define the data frame
df <- data.frame(
id = c(1, 2, 3, 4, 5, 6),
sex = c(1, 2, 1, 2, 2, 2),
dadid = c(0, 0, 0, 0, 1, 3),
momid = c(0, 0, 0, 0, 2, 4),
famid = 1
)
# Define the relation matrix (parent1, parent2, child)
# Jack and Judy are parents of Monica (5)
# Ross and Carol are parents of Rachel (6)
# Sibling relationship between Jack and Judy (2,3)
relation1 <- matrix(c(
1, 2, 5,   # Jack and Judy are parents of Monica (5)
3, 4, 6    # Ross and Carol are parents of Rachel (6)
), ncol = 3, byrow = TRUE)
# Create the pedigree object
foo <- pedigree(id = df$id, dadid = df$dadid, momid = df$momid, sex = df$sex, famid = df$famid, relation = relation1)
relation1
?pedigree
ped
df <- data.frame(
id = c(1,2,3,4,5,6),
sex = c(1,2,1,2,2,2),
dadid = c(0,0,0,0,1,3),
momid = c(0,0,0,0,2,4),
famid = 1
)
relation1 <- matrix(c(2,3,4,1), nrow = 1)
foo <- pedigree(
id = df$id,
dadid = df$dadid,
momid = df$momid,
sex = df$sex,
relation = relation1,
famid = df$famid
)
ped <- foo['1']
plot(ped)
# Define the family data frame
friends_df <- data.frame(
id = c(
"Jack Geller", "Judy Geller",          # 1,2
"Ross Geller", "Monica Geller",        # 3,4
"Carol Willick", "Rachel Green",       # 5,6
"Ben Geller", "Emma Geller-Green",     # 7,8
"Chandler Bing", "Mike Hannigan"       # 9,10 (optional)
),
sex = c(1, 2, 1, 2, 2, 2, 1, 2, 1, 1),  # 1=male, 2=female
dadid = c(0, 0, 1, 1, 0, 0, 3, 3, 0, 0),
momid = c(0, 0, 2, 2, 0, 0, 5, 6, 0, 0),
famid = 1  # Single family ID for simplicity
)
# Define the relation matrix (mother, father, family ID)
relations <- matrix(c(
2, 3, 1,   # Jack Geller (2) & Judy Geller (3), family ID 1
6, 3, 1,   # Carol Willick (6) & Ross Geller (3), family ID 1
5, 3, 1,   # Monica Geller (5) & Chandler Bing (3), family ID 1
9, 10, 1   # Rachel Green (9) & Mike Hannigan (10), family ID 1
), byrow = TRUE, ncol = 3)
# Create the pedigree object
ped <- pedigree(
id = friends_df$id,
dadid = friends_df$dadid,
momid = friends_df$momid,
sex = friends_df$sex,
famid = friends_df$famid,
relation = relations
)
# Plot the family tree
plot(ped, id = friends_df$name)
friends_df$dadid
# Define the family data frame
friends_df <- data.frame(
id = c(
"Jack Geller", "Judy Geller",          # 1,2
"Ross Geller", "Monica Geller",        # 3,4
"Carol Willick", "Rachel Green",       # 5,6
"Ben Geller", "Emma Geller-Green",     # 7,8
"Chandler Bing", "Mike Hannigan"       # 9,10 (optional)
),
sex = c(1, 2, 1, 2, 2, 2, 1, 2, 1, 1),  # 1=male, 2=female
dadid = c(0, 0, 1, 1, 0, 0, 3, 3, 0, 0),
momid = c(0, 0, 2, 2, 0, 0, 5, 6, 0, 0),
famid = 1  # Single family ID for simplicity
)
friends_df
# Define the relation matrix (mother, father, family ID)
relations <- matrix(c(
2, 3, 1,   # Jack Geller (2) & Judy Geller (3), family ID 1
6, 3, 1,   # Carol Willick (6) & Ross Geller (3), family ID 1
5, 3, 1,   # Monica Geller (5) & Chandler Bing (3), family ID 1
9, 10, 1   # Rachel Green (9) & Mike Hannigan (10), family ID 1
), byrow = TRUE, ncol = 3)
relations
# Create the pedigree object
ped <- pedigree(
id = friends_df$id,
dadid = friends_df$dadid,
momid = friends_df$momid,
sex = friends_df$sex,
famid = friends_df$famid,
relation = relations
)
friends_df$dadid,
friends_df
friends_df$dadid
library(kinship2)
# Define the data frame with IDs for Friends characters and their family connections
df <- data.frame(
id = c(1, 2, 3, 4, 5, 6),  # IDs for Ross, Monica, Chandler, Rachel, Carol, Ben
sex = c(1, 2, 1, 2, 2, 1),  # Male (1) and Female (2)
dadid = c(0, 0, 0, 0, 1, 3),  # IDs for dads (0 means no parent)
momid = c(0, 0, 0, 0, 2, 4),  # IDs for moms (0 means no parent)
famid = 1  # Same family ID for all
)
# Define the relation matrix (parent1, parent2, child)
relation1 <- matrix(c(
1, 2, 5,  # Ross and Carol are parents of Ben (5)
3, 4, 6,  # Monica and Chandler are parents of Ben (6)
1, 2, 4   # Ross and Monica are siblings
), ncol = 3, byrow = TRUE)
# Create the pedigree object
foo <- pedigree(id = df$id, dadid = df$dadid, momid = df$momid, sex = df$sex, famid = df$famid, relation = relation1)
library(kinship2)
# Define the data frame with character names instead of numeric IDs
df <- data.frame(
id = c("Ross", "Monica", "Chandler", "Rachel", "Carol", "Ben"),  # Character names
sex = c(1, 2, 1, 2, 2, 1),  # Male (1) and Female (2)
dadid = c(0, 0, 0, 0, "Ross", "Chandler"),  # Dad ID names, "0" means no parent
momid = c(0, 0, 0, 0, "Monica", "Carol"),  # Mom ID names, "0" means no parent
famid = 1  # Same family ID for all
)
# Define the relation matrix using names (Ross and Monica are siblings, Monica and Chandler are married)
relation1 <- matrix(c(
"Ross", "Carol", "Ben",    # Ross and Carol are parents of Ben
"Monica", "Chandler", "Ben",  # Monica and Chandler are parents of Ben
"Ross", "Monica", "Chandler"  # Ross and Monica are siblings
), ncol = 3, byrow = TRUE)
# Create the pedigree object using names
foo <- pedigree(id = df$id, dadid = df$dadid, momid = df$momid, sex = df$sex, famid = df$famid, relation = relation1)
df <- data.frame(
id = c("Chandler",2,3,4,5,6),
sex = c(1,2,1,2,2,2),
dadid = c(0,0,0,0,1,3),
momid = c(0,0,0,0,2,4),
famid = 1
)
relation1 <- matrix(c(2,3,4,1), nrow = 1)
foo <- pedigree(
id = df$id,
dadid = df$dadid,
momid = df$momid,
sex = df$sex,
relation = relation1,
famid = df$famid
)
ped <- foo['1']
plot(ped)
library(kinship2)
# Define the data frame with character names instead of numeric IDs
df <- data.frame(
id = c("Chandler", "Ross", "Monica", "Rachel", "Carol", "Ben"),  # Character names
sex = c(1, 2, 1, 2, 2, 1),  # Male (1) and Female (2)
dadid = c(0, 0, 0, 0, "Ross", "Chandler"),  # Dad ID names, "0" means no parent
momid = c(0, 0, 0, 0, "Monica", "Carol"),  # Mom ID names, "0" means no parent
famid = 1  # Same family ID for all
)
# Define the relation matrix using names (Ross and Monica are siblings, Monica and Chandler are married)
relation1 <- matrix(c(
"Ross", "Carol", "Ben",    # Ross and Carol are parents of Ben
"Monica", "Chandler", "Ben",  # Monica and Chandler are parents of Ben
"Ross", "Monica", "Chandler"  # Ross and Monica are siblings
), ncol = 3, byrow = TRUE)
# Create the pedigree object using names
foo <- pedigree(id = df$id, dadid = df$dadid, momid = df$momid, sex = df$sex, famid = df$famid, relation = relation1)
library(kinship2)
# Define the data frame with character names instead of numeric IDs
df <- data.frame(
id = c("Chandler", "Ross", "Monica", "Rachel", "Carol", "Ben"),  # Character names
sex = c(1, 2, 1, 2, 2, 1),  # Male (1) and Female (2)
dadid = c(0, 0, 0, 0, "Ross", "Chandler"),  # Dad ID names, "0" means no parent
momid = c(0, 0, 0, 0, "Monica", "Carol"),  # Mom ID names, "0" means no parent
famid = 1  # Same family ID for all
)
# Convert the names to numeric IDs for the pedigree
id_map <- setNames(1:length(df$id), df$id)
df$id <- id_map[df$id]
df$dadid <- id_map[df$dadid]
df$momid <- id_map[df$momid]
# Define the relation matrix using numeric IDs (1, 2, etc. for relationships)
relation1 <- matrix(c(
2, 3, 4,    # Ross and Monica are siblings
1, 2, 5,    # Monica and Chandler are married
4, 3, 6     # Carol and Chandler are married
), ncol = 3, byrow = TRUE)
# Create the pedigree object using numeric IDs
foo <- pedigree(id = df$id, dadid = df$dadid, momid = df$momid, sex = df$sex, famid = df$famid, relation = relation1)
library(kinship2)
# Define the data frame with character names instead of numeric IDs
df <- data.frame(
id = c("Chandler", "Ross", "Monica", "Rachel", "Carol", "Ben"),  # Character names
sex = c(1, 2, 1, 2, 2, 1),  # Male (1) and Female (2)
dadid = c(0, 0, 0, 0, "Ross", "Chandler"),  # Dad ID names, "0" means no parent
momid = c(0, 0, 0, 0, "Monica", "Carol"),  # Mom ID names, "0" means no parent
famid = 1  # Same family ID for all
)
# Convert the names to numeric IDs for the pedigree
id_map <- setNames(1:length(df$id), df$id)
df$id <- id_map[df$id]
df$dadid <- id_map[df$dadid]
df$momid <- id_map[df$momid]
# Define the relation matrix using numeric IDs (1, 2, etc. for relationships)
relation1 <- matrix(c(
2, 3, 4,   # Monica and Ross are siblings
1, 2, 5,   # Monica and Chandler are married
4, 3, 6    # Carol and Chandler are married
), ncol = 3, byrow = TRUE)
# Create the pedigree object using numeric IDs
foo <- pedigree(id = df$id, dadid = df$dadid, momid = df$momid, sex = df$sex, famid = df$famid, relation = relation1)
library(kinship2)
# Define the data frame with character names instead of numeric IDs
df <- data.frame(
id = c("Chandler", "Ross", "Monica", "Rachel", "Carol", "Ben"),  # Character names
sex = c(1, 1, 2, 2, 2, 1),  # Male (1) and Female (2)
dadid = c(0, 0, 0, 0, "Ross", "Chandler"),  # Dad ID names, "0" means no parent
momid = c(0, 0, 0, 0, "Monica", "Carol"),  # Mom ID names, "0" means no parent
famid = 1  # Same family ID for all
)
# Convert the names to numeric IDs for the pedigree
id_map <- setNames(1:length(df$id), df$id)
df$id <- id_map[df$id]
df$dadid <- id_map[df$dadid]
df$momid <- id_map[df$momid]
# Define the relation matrix using numeric IDs (1, 2, etc. for relationships)
# Example: Monica and Chandler (id 3 and 1) are married; Carol and Ross (id 5 and 2) are married
relation1 <- matrix(c(
3, 1, 4,   # Monica and Chandler are married
2, 3, 5    # Carol and Ross are married
), ncol = 3, byrow = TRUE)
# Create the pedigree object using numeric IDs
foo <- pedigree(id = df$id, dadid = df$dadid, momid = df$momid, sex = df$sex, famid = df$famid, relation = relation1)
df <- data.frame(
id = c(1,2,3,4,5,6),
sex = c(1,2,1,2,2,2),
dadid = c(0,0,0,0,1,3),
momid = c(0,0,0,0,2,4),
famid = 1
)
relation1 <- matrix(c(2,3,4,1), nrow = 1)
relation1
foo <- pedigree(
id = df$id,
dadid = df$dadid,
momid = df$momid,
sex = df$sex,
relation = relation1,
famid = df$famid
)
foo
ped <- foo['1']
ped
plot(ped)
library(ggplot2)
library(ggraph)
library(igraph)
# Create a family tree dataset
df <- data.frame(
id = c(1, 2, 3, 4, 5, 6),
name = c("Ross", "Monica", "Chandler", "Rachel", "Carol", "Ben"),
sex = c(1, 2, 1, 2, 2, 2),
dadid = c(0, 0, 0, 0, 1, 3),
momid = c(0, 0, 0, 0, 2, 4),
famid = 1
)
# Create a relationship matrix
relations <- data.frame(
from = c(2, 3),  # Monica and Chandler are married
to = c(1, 4)     # Ross and Rachel are married
)
# Create a graph from the relationship data
graph <- graph_from_data_frame(relations, vertices = df)
# Plot the family tree using ggraph
ggraph(graph, layout = 'tree') +
geom_edge_link(aes(edge_alpha = 0.5), color = "gray") +
geom_node_point(aes(color = as.factor(sex)), size = 5) +
geom_node_text(aes(label = name), vjust = -1) +
theme_void() +
theme(legend.position = "none") +
ggtitle("Family Tree") +
scale_color_manual(values = c("blue", "pink"))  # Color males and females differently
